{"version":3,"sources":["js/login.js","js/overview.js","js/match.js","js/statistics.js","js/nav.js","App.js","index.js"],"names":["res_name","peekSkin","skins","name","skin_num","Object","values","data","map","s","num","i","Math","floor","random","length","skin","img","document","querySelector","src","title","alt","style","opacity","loadSkin","Login","props","useEffect","fetch","then","res","json","champs","names","c","peekNames","peekRandomName","console","log","useState","setName","id","className","type","placeholder","onChange","e","target","value","to","onClick","href","rel","summoner","league","tier_image_zip","past_name","o_champ","handleChange","mql","matches","url","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","x","window","matchMedia","addEventListener","fetchLeage","n2","n3","n4","setFail","setLeague","filterQueueType","fetchMatchIDs","puuid","data2","catch","error","fetchMatch","getMatch","data3","setMatch","matchId","setOverviewBack","matchList","data4","push","setProfileIcon","setSummonerLevel","l","textContent","childNodes","queueType","t","tier","slice","toLowerCase","file","async","URL","createObjectURL","status","Promise","resolve","blob","reject","Error","statusText","JSZip","loadAsync","zip","rank","leaguePoints","wins","losses","solo","filter","legth","match","champ","info","participants","p","summonerName","championName","Overview","useParams","fail","splice","n1","profileIconId","summonerLevel","fetchSummoner","width","Match","Statistics","Nav","toggle","setToggle","exact","global_match","setGlobalMatch","getGlobalMatch","global_match_list","Back","c1","c2","App","basename","process","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b08c9e76.chunk.js","sourcesContent":["import \"../css/Login.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\n\r\nlet res_name = null; // champion name\r\nlet res2 = null; // skin list json\r\n\r\nfunction Login(props) {\r\n  useEffect(() => {\r\n    if(res_name) {\r\n      if(res2) {\r\n        peekSkin(res2, res_name);\r\n      } else {\r\n        fetch(`https://ddragon.leagueoflegends.com/cdn/11.16.1/data/en_US/champion/${res_name}.json`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n              peekSkin(data, res_name);\r\n            });\r\n      }\r\n    } else {\r\n      fetch('https://ddragon.leagueoflegends.com/cdn/11.16.1/data/en_US/champion.json')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          const name = peekRandomName(data);\r\n          console.log(name); res_name = name;\r\n          fetch(`https://ddragon.leagueoflegends.com/cdn/11.16.1/data/en_US/champion/${res_name}.json`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n              peekSkin(data, res_name);\r\n            });\r\n        });\r\n    }\r\n  }, []);\r\n  let [name, setName] = useState(\"\");\r\n  const handler = () => {\r\n    props.setName(name);\r\n  }\r\n  return (\r\n    <section id=\"login\">\r\n      <div className=\"login_container\">\r\n        <div className=\"login_user_signinBx\">\r\n          <div className=\"login_imgBx\">\r\n            <img id=\"login_back\" alt=\"\"/>\r\n          </div>\r\n          <div className=\"login_formBx\">\r\n            <form>\r\n              <h2>Start</h2>\r\n              <input type=\"text\" placeholder=\"Username\" onChange={(e) => setName(e.target.value)}/>\r\n              <Link to={`/overview/${name}`}>\r\n                <input type=\"submit\" value=\"Search\" onClick={handler}/>\r\n              </Link>\r\n              <p className=\"login_p\">\r\n                상명대학교 캡스톤디자인 2021{\" \"}\r\n                <a href=\"https://github.com/YUNJUSEOK/CapstoneDesign\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction peekNames(champs) {\r\n  return Object.values(champs.data).map( c => \r\n    c.name\r\n  );\r\n}\r\nfunction peekRandomName(champs) {\r\n  const names = peekNames(champs);\r\n  const i = Math.floor((Math.random() * names.length));\r\n  return names[i];\r\n}\r\n\r\nfunction peekSkin(skins, name) {\r\n  const skin_num = Object.values(skins.data[name].skins).map( s => {\r\n    return {num: s.num, name: s.name};\r\n  });\r\n  const i = Math.floor((Math.random() * skin_num.length));\r\n  loadSkin(name, skin_num[i].num, skin_num[i].name);\r\n}\r\n\r\nfunction loadSkin(name, i, skin) {\r\n  const img = document.querySelector(\"#login_back\");\r\n  img.src = `https://ddragon.leagueoflegends.com/cdn/img/champion/loading/${name}_${i}.jpg`;\r\n  img.title = (skin === \"default\") ? name: skin;\r\n  img.alt = name;\r\n  img.style.opacity = 1;\r\n}\r\n\r\n\r\nexport default Login;","import JSZip from 'jszip';\r\nimport { useEffect, useState } from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport \"../css/Overview.css\";\r\n\r\nlet summoner = null;\r\nlet league = null;\r\nlet tier_image_zip = null;\r\nlet past_name = null;\r\n\r\nlet o_champ = null;\r\n\r\nconst handleChange = (mql) => {\r\n  console.log(\"화면 전환 발동!!\");\r\n  if (o_champ){\r\n    if(!mql.matches) {\r\n      const url = `url(https://ddragon.leagueoflegends.com/cdn/img/champion/loading/${o_champ}_0.jpg)`;\r\n      const style = document.querySelector(\".overview\").style;\r\n      style.backgroundImage = `radial-gradient(transparent 1%, black 99%), ${url}`;\r\n      style.backgroundSize = \"cover\";\r\n      style.backgroundRepeat = \"no-repeat\";\r\n      style.backgroundPosition = \"top\";\r\n    } else {\r\n      const url = `url(https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${o_champ}_0.jpg)`;\r\n      const style = document.querySelector(\".overview\").style;\r\n      style.backgroundImage = `radial-gradient(transparent 1%, black 99%), ${url}`;\r\n      style.backgroundSize = \"cover\";\r\n      style.backgroundRepeat = \"no-repeat\";\r\n      style.backgroundPosition = \"top\";\r\n    }\r\n  }\r\n}\r\nconst x = window.matchMedia(\"(orientation: landscape)\");\r\nx.addEventListener('change', handleChange);\r\n\r\nconst fetchSummoner = (props, name, n1, n2, n3, n4, setFail) => {\r\n  if(!n1){\r\n    fetch(`https://kr.api.riotgames.com/lol/summoner/v4/summoners/by-name/${name}?api_key=RGAPI-c7e0648c-c291-47e7-8374-098ba716c8dc`)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      summoner = data;\r\n      setProfileIcon(summoner.profileIconId);\r\n      setSummonerLevel(summoner.summonerLevel);\r\n      // setSummonerId(summoner.id);\r\n      fetchLeage(props, summoner.id, n2, n3, n4);\r\n    })\r\n    .catch(e => {console.error(e); setFail(true);});\r\n  } else {\r\n    console.log(\"1. 서머너 재활용\");\r\n    setProfileIcon(summoner.profileIconId);\r\n    setSummonerLevel(summoner.summonerLevel);\r\n    // setSummonerId(summoner.id);\r\n    fetchLeage(props, summoner.id, n2, n3, n4);\r\n  }\r\n}\r\n\r\nconst fetchLeage = (props, id, n2, n3, n4, setFail) => {\r\n  if(!n2) {\r\n    fetch(`https://kr.api.riotgames.com/lol/league/v4/entries/by-summoner/${id}?api_key=RGAPI-c7e0648c-c291-47e7-8374-098ba716c8dc`)\r\n      .then(res => res.json())\r\n      .then(data2 => {\r\n        league = data2;\r\n        setLeague(filterQueueType(league)[0]);\r\n        fetchMatchIDs(props, summoner.puuid, n3, n4);\r\n      }).catch(e => {console.error(e); setFail(true);});\r\n  } else {\r\n    console.log(\"2. 리그 재활용\");\r\n    setLeague(filterQueueType(league)[0]);\r\n    fetchMatchIDs(props, summoner.puuid, n3, n4);\r\n  }\r\n}\r\n\r\nconst fetchMatchIDs = (props, puuid, n3, n4, setFail) => {\r\n  if(!n3) {\r\n    fetch(`https://asia.api.riotgames.com/lol/match/v5/matches/by-puuid/${puuid}/ids?start=0&count=100&api_key=RGAPI-c7e0648c-c291-47e7-8374-098ba716c8dc`)\r\n      .then(res => res.json())\r\n      .then(data3 => {\r\n        props.setMatch(data3);\r\n        fetchMatch(props, props.getMatch()[0], n3, n4);\r\n      }).catch(e => {console.error(e); setFail(true);});\r\n  } else {\r\n    console.log(\"3. 전역 match 재활용\");\r\n    fetchMatch(props, props.getMatch()[0], n3, n4);\r\n  }\r\n};\r\n\r\nconst fetchMatch = (props, matchId, n4, setFail) => {\r\n  if(!n4) {\r\n    fetch(`https://asia.api.riotgames.com/lol/match/v5/matches/${matchId}?api_key=RGAPI-c7e0648c-c291-47e7-8374-098ba716c8dc`)\r\n      .then(res => res.json())\r\n      .then(data4 => {\r\n        props.matchList.push(data4);\r\n        setOverviewBack(summoner.name, props.matchList[0]);\r\n      }).catch(e => {console.error(e); setFail(true);});\r\n  } else {\r\n    console.log(\"4. 전역 matchList 재활용\");\r\n    setOverviewBack(summoner.name, props.matchList[0]);\r\n  }\r\n}\r\n\r\n\r\nfunction Overview(props) {\r\n\r\n  let { name } = useParams();\r\n  const [fail, setFail] = useState(false);\r\n  useEffect(() => {\r\n    if(!fail){\r\n      if(past_name && past_name === name) {\r\n        console.log(\"0. 이전과 동일한 소환사 정보.\");\r\n      } else if(past_name && past_name !== name){\r\n        console.log(\"0. 다른 소환사 정보 요청.\");\r\n        summoner = null;\r\n        league = null;\r\n        props.setMatch(null);\r\n        props.matchList.splice(0, props.matchList.length);\r\n      } else {\r\n        console.log(\"0. 초기 소환사 정보 요청.\")\r\n      }\r\n      fetchSummoner(props, name, summoner, league, props.getMatch(), props.matchList.length === 0, setFail);\r\n      past_name = name;\r\n    }\r\n  }, [name, props, fail]);\r\n  \r\n  return (\r\n    fail ? <div id=\"overview\">문제가 발생했습니다!<img width=\"10%\" src=\"https://pa1.narvii.com/6291/4f5b69927ae1d6c2002983b144237042d395b360_hq.gif\"/></div> :\r\n    <div className=\"overview\">\r\n      <div className=\"summoner\">\r\n        <img id=\"profile_icon\" src=\"\" alt=\"\"/>\r\n        <div className=\"summoner_name\">{name}</div>\r\n        <div className=\"summoner_level\"></div>\r\n      </div>\r\n      <div className=\"league\">\r\n        <div className=\"league_queueType\"></div>\r\n        <img className=\"league_tier\" src=\"\" alt=\"\"/>\r\n        <div className=\"league_rank\"></div>\r\n        <div className=\"league_point\"></div>\r\n        <div className=\"league_win\"></div>\r\n        <div className=\"league_lose\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction setProfileIcon(num) {\r\n  document.querySelector(\"#profile_icon\").src = `https://ddragon.leagueoflegends.com/cdn/11.16.1/img/profileicon/${num}.png`;\r\n}\r\nfunction setSummonerLevel(l) {\r\n  document.querySelector(\".summoner_level\").textContent = l;\r\n}\r\n\r\nfunction setLeague(league) {\r\n  const l = document.querySelector(\".league\");\r\n  l.childNodes[0].textContent = league.queueType;\r\n  const t = league.tier[0]+league.tier.slice(1, league.length).toLowerCase();\r\n  if(tier_image_zip) {\r\n    console.log(\"2_1. 티어 엠블럼 zip 재활용\");\r\n    tier_image_zip.file(`Emblem_${t}.png`).async(\"blob\")\r\n      .then(s => {l.childNodes[1].src = window.URL.createObjectURL(s)}, e => {console.log(e)});\r\n  } else {\r\n    // https://stuk.github.io/jszip/documentation/examples/get-binary-files-ajax.html\r\n    fetch('https://static.developer.riotgames.com/docs/lol/ranked-emblems.zip')\r\n    .then(res => {\r\n      if (res.status === 200 || res.status === 0) {\r\n        return Promise.resolve(res.blob());\r\n      } else {\r\n        return Promise.reject(new Error(res.statusText));\r\n      }})\r\n    .then(JSZip.loadAsync)\r\n    .then(zip => {\r\n      tier_image_zip = zip;\r\n      return zip.file(`Emblem_${t}.png`).async(\"blob\")})\r\n    .then(s => {l.childNodes[1].src = window.URL.createObjectURL(s)}, e => {console.log(e)});\r\n  }\r\n  l.childNodes[2].textContent = league.rank;\r\n  l.childNodes[3].textContent = league.leaguePoints;\r\n  l.childNodes[4].textContent = league.wins;\r\n  l.childNodes[5].textContent = league.losses;\r\n}\r\n\r\nfunction filterQueueType(league) {\r\n  console.log(`2_0. 해당 소환사 리그 정보 개수${league.length}`);\r\n  const solo = league.filter(l => \r\n    l.queueType === \"RANKED_SOLO_5x5\"\r\n  )\r\n  return (solo.legth === 0) ? league: solo;\r\n}\r\n\r\nfunction setOverviewBack(name, match) {\r\n  console.log(`5. ${name}소환사의 배경을 지정중..`);\r\n  const champ = match.info.participants.filter(p => p.summonerName === name)[0].championName;\r\n  o_champ = champ;\r\n  handleChange(x);\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Overview;\r\n\r\n// \"id\": \"SsOLEzBUuXZRS-wSg8-RUlizz2-tksbk5hTauWo6v2wp2Eo\",\r\n//     \"accountId\": \"oKSSVex-_6B_UOz1pH79reUBzdQ9Pevw10H1BSRrI5KD4Ao\",\r\n//     \"puuid\": \"uWFQl2CjdykaHUfiwcnG-vyOuGmpAgt-BqTW_FkI30p0kzxmCi3tpq9O2FYG7OOFkuG78b6ppe37hg\",\r\n//     \"name\": \"Hestia sin\",\r\n//     \"profileIconId\": 4363,\r\n//     \"revisionDate\": 1629793642000,\r\n//     \"summonerLevel\": 95\r\n\r\n// \"KR_5398404248\",\r\n// \"KR_5345380635\",\r\n// \"KR_5202909961\",\r\n// \"KR_5202892690\",\r\n// \"KR_5202786274\",\r\n// \"KR_5202742322\",\r\n// \"KR_5125344968\",\r\n// \"KR_5125286225\",\r\n// \"KR_5120330587\",\r\n// \"KR_5108165091\",\r\n// \"KR_5108087977\",","import { useParams } from 'react-router-dom';\r\nimport \"../css/Match.css\";\r\n\r\nfunction Match(props) {\r\n  let { name } = useParams();\r\n\r\n  return (\r\n    <div className=\"match\">\r\n      <h2>Match</h2>\r\n      Match...\r\n      {/* <div>{props.getMatch()}</div> */}\r\n      <div>{name}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Match;","function Statistics() {\r\n  return (\r\n    <div>\r\n      <h2>Statistics</h2>\r\n      Statistics...\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Statistics;","import { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport \"../css/Nav.css\";\r\n\r\nfunction Nav(props) {\r\n\r\n  let [toggle, setToggle] = useState(false);\r\n\r\n  const handleClick = (e) => {\r\n    setToggle(!toggle);\r\n  }\r\n\r\n  return (\r\n    <header className={`nav${toggle ? \" open\" : \"\"}`}>\r\n      <NavLink exact to=\"/\" className=\"Login\">Login</NavLink>\r\n      <div className={`menu${toggle ? \" arrow\" : \"\"}`} onClick={handleClick}></div>\r\n      <nav>\r\n        <ul>\r\n          <li><NavLink to={`/overview/${props.name}`}>Overview</NavLink></li>\r\n          <li><NavLink to={`/match/${props.name}`}>Match</NavLink></li>\r\n          <li><NavLink to=\"/stat\">Statistics</NavLink></li>\r\n        </ul>\r\n      </nav>\r\n      <div className=\"clearfix\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Nav;","import Login from \"./js/login\"\r\nimport Overview from './js/overview';\r\nimport Match from './js/match';\r\nimport Statistics from './js/statistics';\r\nimport Nav from './js/nav';\r\nimport \"./css/Back.css\"\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport { useState } from 'react';\r\n\r\nlet global_match = null;\r\nconst setGlobalMatch = (match) => {\r\n  global_match = match;\r\n}\r\nconst getGlobalMatch = () => {\r\n  return global_match;\r\n}\r\n\r\nlet global_match_list = [];\r\n\r\n\r\nfunction App() {\r\n  let [name, setName] = useState(\"\");\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route path=\"/overview/:name\"><Back c1={<Nav name={name}/>} c2={<Overview setMatch={setGlobalMatch} getMatch={getGlobalMatch} matchList={global_match_list}/>}/></Route>\r\n          <Route path=\"/match/:name\"><Back c1={<Nav name={name}/>} c2={<Match getMatch={getGlobalMatch} matchList={global_match_list}/>}/></Route>\r\n          <Route path=\"/stat\"><Back c1={<Nav name={name}/>} c2={<Statistics/>}/></Route>\r\n          <Route path=\"/\"><Login setName={setName}/></Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction Back(props) {\r\n  return (\r\n    <section id=\"back\">\r\n      <div className=\"back_container\">\r\n        {props.c1}\r\n        {props.c2}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}